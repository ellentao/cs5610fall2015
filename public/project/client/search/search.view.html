<div ng-controller="SearchController">
<div>
<h1>Search for an Artist's Albums and Listen!</h1>
<p>Type an artist name and click on "Search". Then, click on any album from the results to play 30 seconds of its first track.</p>
<form id="search-form">
		<input type="text" id="query" value="" class="form-control" placeholder="Type an Artist Name"/>
		<input type="submit" id="search" class="btn btn-primary" value="Search" />
</form>
<div id="results"></div>
<script id="results-template" type="text/x-handlebars-template">
    {{#each albums.items}}
    <div style="background-image:url({{images.0.url}})" data-album-id="{{id}}" class="cover"></div>
    {{/each}}
</script>
</div>
	
<div>
<h1>General Search</h1>
<p>Type an artist name or album name or song name, and click on "Search". Then, click on any artist or album or song from the results to see details. </p>
<form>
	<input type="text" ng-model="input" class="form-control" placeholder="Type an Artist or Album or Song Name"/>
	<input ng-click="model.search(input)" class="btn btn-primary" value="General Search" />
</form>
</div>
	
<div>
	<div ng-if="model.showArtist == 'yes'" class="col-sm-6">
			<h2>Artist</h2>
		<div class="row">
			<div class="col-sm-4" ng-repeat="artist in model.artists" style="height:200px;width:140px">
<!--					style="height:32px;width:32px"-->
				<a href="#/artist" ng-click="model.saveArtist(artist)">
						<img src="{{artist.images[0].url}}" class="img-rounded" alt="{{artist.name}} image" width="130" height="130">
				</a>
				<a href="#/artist" ng-click="model.saveArtist(artist)">
						<h5>{{artist.name}}</h5>
				</a>                
			</div>
		</div>
	</div>
	<div ng-if="model.showAlbum == 'yes'" class="col-sm-6">
			<h2>Album</h2>
		<div class="row">
			<div class="col-sm-4" ng-repeat="album in model.albums" style="height:200px;width:140px">
				<a href="#/album" ng-click="model.saveAlbum(album)">
						<img src="{{album.images[0].url}}" class="img-rounded" alt="{{album.name}} image" width="130" height="130">
				</a>
				<a href="#/album" ng-click="model.saveAlbum(album)">
						<h5>{{album.name}}</h5>
				</a>                
			</div>
		</div>
	</div>
	<div ng-if="model.showSong == 'yes'" class="col-sm-12">
			<h2>Songs</h2>
			<div class="table-responsive">
					<table class="table table-striped table-bordered table-hover table-condensed">
						<thead>
						<tr>
							<th>
								<a href="#">
									<scan class="glyphicon glyphicon-triangle-bottom"></scan>
								</a>
								Song Name
							</th>
							<th>
								<a href="#">
									<scan class="glyphicon glyphicon-triangle-bottom"></scan>
								</a>
								Artist Name
							</th>
							<th>
								<a href="#">
									<scan class="glyphicon glyphicon-triangle-bottom"></scan>
								</a>
								Album Name
							</th>
							<th>
								<a href="#">
									<scan class="glyphicon glyphicon-triangle-bottom"></scan>
								</a>
								Time Duration
							</th>
							<th>
								<a href="#">
									<scan class="glyphicon glyphicon-triangle-bottom"></scan>
								</a>
								Preview
							</th>
							<th>
								<a href="#">
									<scan class="glyphicon glyphicon-triangle-bottom"></scan>
								</a>
								Popularity
							</th>
						</tr>
						</thead>
						<tbody>
							<tr ng-repeat="song in model.songs">
								<td>
									<a href="#/song" ng-click="model.saveSong(song)">
										{{song.name}}
									</a>
								</td>
								<td>
									<ul ng-repeat="artist in song.artists">
										<li><a href="#/artist" ng-click="model.saveArtist(artist)">{{artist.name}}</a></li>
									</ul>
								</td>
								<td>
									<a href="#/album" ng-click="model.saveAlbum(song.album)">
										{{song.album.name}}
									</a>
								</td>
								<td>
									{{model.millisToMinutesAndSeconds(song.duration_ms)}}
								</td>
								<td>
									<iframe ng-src="{{song.uri | trustUrl}}" width="300" height="80" frameborder="0" allowtransparency="true"></iframe>
								</td>
								<td>
									<ul class="list-inline">
										<li ng-repeat="n in [] | range: song.popularity">
											<span class="glyphicon glyphicon-heart"></span>
										</li>
									</ul>
								</td>
							</tr>
						</tbody>
					</table>
			</div>
	</div>
</div>
</div>